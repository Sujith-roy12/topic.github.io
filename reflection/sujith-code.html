<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
        }
        h1 {
            text-align: center;
        }
        .menu, .action-form {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .menu button {
            padding: 10px 20px;
            margin: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .menu button:hover {
            background-color: #0056b3;
        }
        .action-form input, .action-form select {
            padding: 10px;
            width: 100%;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .action-form button {
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .action-form button:hover {
            background-color: #218838;
        }
        .output {
            padding: 10px;
            margin-top: 20px;
            background-color: #e9ecef;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>Smart Parking System</h1>

    <div class="menu">
        <button onclick="showAddSpotForm()">Add Parking Spot</button>
        <button onclick="showUpdateAvailabilityForm()">Update Spot Availability</button>
        <button onclick="findNearestSpot()">Find Nearest Spot</button>
        <button onclick="displayAvailableSpots()">Display Available Spots</button>
    </div>

    <div id="addSpotForm" class="action-form" style="display: none;">
        <h3>Add Parking Spot</h3>
        <label for="spotId">Spot ID:</label>
        <input type="text" id="spotId" placeholder="Enter spot ID">
        <label for="distance">Distance from entrance:</label>
        <input type="number" id="distance" placeholder="Enter distance">
        <button onclick="addParkingSpot()">Add Spot</button>
    </div>

    <div id="updateAvailabilityForm" class="action-form" style="display: none;">
        <h3>Update Spot Availability</h3>
        <label for="updateSpotId">Spot ID:</label>
        <input type="text" id="updateSpotId" placeholder="Enter spot ID">
        <label for="availability">Availability:</label>
        <select id="availability">
            <option value="true">Available</option>
            <option value="false">Unavailable</option>
        </select>
        <button onclick="updateSpotAvailability()">Update Availability</button>
    </div>

    <div id="output" class="output"></div>

    <script>
        let parkingSpots = {};

        function showAddSpotForm() {
            document.getElementById('addSpotForm').style.display = 'block';
            document.getElementById('updateAvailabilityForm').style.display = 'none';
            document.getElementById('output').innerHTML = '';
        }

        function showUpdateAvailabilityForm() {
            document.getElementById('updateAvailabilityForm').style.display = 'block';
            document.getElementById('addSpotForm').style.display = 'none';
            document.getElementById('output').innerHTML = '';
        }

        function addParkingSpot() {
            const spotId = document.getElementById('spotId').value;
            const distance = document.getElementById('distance').value;

            if (spotId && distance) {
                if (parkingSpots[spotId]) {
                    showOutput(`Spot ${spotId} already exists.`);
                } else {
                    parkingSpots[spotId] = { id: spotId, distance: parseInt(distance), available: true };
                    showOutput(`Spot ${spotId} added successfully.`);
                }
            } else {
                showOutput("Please enter valid Spot ID and Distance.");
            }
        }

        function updateSpotAvailability() {
            const spotId = document.getElementById('updateSpotId').value;
            const availability = document.getElementById('availability').value === 'true';

            if (spotId && parkingSpots[spotId]) {
                parkingSpots[spotId].available = availability;
                showOutput(`Spot ${spotId} availability updated.`);
            } else {
                showOutput(`Spot ${spotId} does not exist.`);
            }
        }

        function findNearestSpot() {
            let nearestSpot = null;

            for (let spotId in parkingSpots) {
                if (parkingSpots[spotId].available) {
                    if (!nearestSpot || parkingSpots[spotId].distance < nearestSpot.distance) {
                        nearestSpot = parkingSpots[spotId];
                    }
                }
            }

            if (nearestSpot) {
                nearestSpot.available = false;
                showOutput(`Nearest available spot reserved: ${nearestSpot.id}`);
            } else {
                showOutput("No available spots.");
            }
        }

        function displayAvailableSpots() {
            const availableSpots = Object.values(parkingSpots)
                .filter(spot => spot.available)
                .map(spot => spot.id)
                .join(', ');

            if (availableSpots) {
                showOutput(`Available spots: ${availableSpots}`);
            } else {
                showOutput("No available spots.");
            }
        }

        function showOutput(message) {
            document.getElementById('output').innerHTML = message;
        }
    </script>
</body>
</html>

